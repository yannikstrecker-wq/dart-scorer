<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>Dart Turnier â€“ 6 Spieler</title>

<style>
:root{
  --bg:#050806;
  --green:#1e7f4f;
  --red:#b8322a;
  --gold:#d4af37;
  --text:#f5f5f5;
  --muted:#9aa4a1;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:radial-gradient(circle at top,#1b5e3a 0%,#050806 70%);
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  color:var(--text);
  padding:10px;
}
.app{max-width:900px;margin:auto}

/* HEADER */
.header{
  text-align:center;
  padding:12px;
  margin-bottom:12px;
  border:2px solid var(--gold);
  border-radius:14px;
  background:#000;
}
.header h1{margin:0;color:var(--gold)}
.header p{margin:4px 0 0;font-size:13px;color:var(--muted)}

/* PANELS */
.panel{
  background:#111;
  padding:12px;
  border-radius:14px;
  margin-bottom:10px;
}

/* MATCH */
.match h2{text-align:center;margin:0 0 6px 0}
.score{font-size:48px;font-weight:900;text-align:center}

/* CHECKOUT */
.checkout{
  text-align:center;
  margin-top:6px;
  font-weight:700;
  color:#9cffc8;
}
.checkout.off{color:#777}

/* MODES */
.modes{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:6px;
  margin-top:8px;
}
.mode{
  padding:10px;
  font-weight:900;
  border-radius:10px;
  border:2px solid #0f5d35;
  background:#000;
}
.mode.active{
  background:var(--green);
  color:#000;
  border-color:var(--gold);
}

/* NUMBERS */
.numbers{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:8px;
}
.num{
  padding:18px;
  font-size:22px;
  font-weight:900;
  background:#000;
  border:2px solid #0f5d35;
  border-radius:12px;
  color:#fff;
}
.num:disabled{
  opacity:.3;
}

/* ACTIONS */
.actions{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:8px;
  margin-top:8px;
}
.btn{
  padding:14px;
  font-size:16px;
  font-weight:900;
  border-radius:12px;
  border:none;
}
.green{background:var(--green);color:#000}
.red{background:var(--red);color:#fff}
</style>
</head>

<body>
<div class="app">

<div class="header">
  <h1>ðŸŽ¯ Dart Turnier</h1>
  <p>501 Â· Best of 3 Â· Double Out</p>
</div>

<div class="panel match">
  <h2 id="matchTitle">Spieler A vs Spieler B</h2>
  <div class="score" id="score">501</div>
  <div class="checkout off" id="checkout">Checkout: â€“</div>
</div>

<div class="panel">
  <div class="modes">
    <button class="mode active" onclick="setMode(1)">SINGLE</button>
    <button class="mode" onclick="setMode(2)">DOUBLE</button>
    <button class="mode" onclick="setMode(3)">TRIPLE</button>
  </div>
</div>

<div class="panel numbers" id="numbers"></div>

<div class="actions">
  <button class="btn red" onclick="bust()">Bust</button>
  <button class="btn green" onclick="endTurn()">Runde</button>
</div>

</div>

<script>
/* ---------- STATE ---------- */
let score=501;
let turnStart=501;
let throws=0;
let mode=1;

/* ---------- NUMBERS ---------- */
const base=[20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,25,50,0];
const numbers=document.getElementById("numbers");

base.forEach(v=>{
  const b=document.createElement("button");
  b.className="num";
  b.textContent=v;
  b.addEventListener("pointerdown",()=>throwDart(v));
  numbers.appendChild(b);
});

/* ---------- MODE ---------- */
function setMode(m){
  mode=m;
  document.querySelectorAll(".mode").forEach((b,i)=>{
    b.classList.toggle("active",i+1===m);
  });
}

/* ---------- THROW ---------- */
function throwDart(v){
  if(throws>=3)return;

  let value=v;
  if(v<=20) value=v*mode;

  score-=value;
  throws++;

  updateUI();
  if(throws===3) disableNumbers();
}

/* ---------- ROUND ---------- */
function endTurn(){
  if(score<0||score===1){
    score=turnStart;
  }else{
    turnStart=score;
  }
  resetTurn();
}

function bust(){
  score=turnStart;
  resetTurn();
}

function resetTurn(){
  throws=0;
  enableNumbers();
  updateUI();
}

/* ---------- UI ---------- */
function updateUI(){
  document.getElementById("score").textContent=score;
  updateCheckout();
}

function disableNumbers(){
  document.querySelectorAll(".num").forEach(b=>b.disabled=true);
}

function enableNumbers(){
  document.querySelectorAll(".num").forEach(b=>b.disabled=false);
}

/* ---------- CHECKOUT ---------- */
function updateCheckout(){
  const c=document.getElementById("checkout");
  if(score>170){
    c.textContent="Checkout: â€“";
    c.classList.add("off");
    return;
  }
  const map={
    170:"T20 T20 D25",
    167:"T20 T19 D25",
    100:"T20 D20",
    80:"T20 D10",
    60:"S20 D20",
    50:"Bull",
    40:"D20",
    32:"D16",
    24:"D12",
    16:"D8",
    8:"D4",
    4:"D2",
    2:"D1"
  };
  c.textContent="Checkout: "+(map[score]||score);
  c.classList.remove("off");
}

updateUI();
</script>
</body>
</html>
